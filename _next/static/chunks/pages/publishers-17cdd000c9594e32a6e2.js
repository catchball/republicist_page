(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{6466:function(n,e,r){"use strict";r.d(e,{U:function(){return a},r:function(){return u}});var t=r(7261),i=r(3121);function s(){var n=(0,t.Z)(["\n  query publishers($baseUrl: String, $limit: Int, $offset: Int) {\n    publishers(baseUrl: $baseUrl, limit: $limit, offset: $offset) {\n      id\n      name\n      description\n      baseUrl\n      crawlingRuleId\n      articleListUrl\n      rssUrl\n    }\n  }\n"]);return s=function(){return n},n}function l(){var n=(0,t.Z)(["\n  query publisher($id: Int!) {\n    publisher(id: $id) {\n      id\n      name\n      description\n      baseUrl\n      rssUrl\n      crawlingRuleId\n      articleListUrl\n      articleLinkXpath\n      isLived\n      scrapings {\n        id\n        processor\n        publisherId\n        titleXpath\n        contentXpath\n        descriptionXpath\n        authorXpath\n        authorPattern\n        publishDateXpath\n        publishDatePattern\n        updateDateXpath\n        updateDatePattern\n        genreXpath\n        genrePattern\n        tagXpath\n        tagPattern\n        pagerXpath\n        testUrl\n      }\n    }\n  }\n"]);return l=function(){return n},n}var a=(0,i.ZP)(l()),u=(0,i.ZP)(s())},867:function(n,e,r){"use strict";var t=r(5893),i=(r(7294),r(5887));e.Z=function(n){var e=n.showButton,r=n.onClick;return(0,t.jsx)(t.Fragment,{children:e&&(0,t.jsx)(i.zx,{onClick:r,children:"\u7d9a\u304d\u3092\u8aad\u307f\u8fbc\u3080"})})}},8056:function(n,e,r){"use strict";r.r(e);var t=r(5893),i=r(9999),s=r(4121),l=r(7294),a=r(1664),u=r(5887),c=r(6829),h=r(6466),o=r(8739),d=r(867),f=r(6146);e.default=function(){var n=(0,l.useState)([]),e=n[0],r=n[1],p=(0,l.useState)(0),x=p[0],b=p[1],j=(0,l.useState)(!0),m=j[0],v=j[1],g=(0,c.useQuery)(h.r,{variables:{limit:50}}).data;(0,l.useEffect)((function(){g&&g.publishers&&(r(g.publishers),b(g.publishers.length),v(50===g.publishers.length))}),[g]);var w=(0,c.useLazyQuery)(h.r),y=(0,s.Z)(w,2),C=y[0],U=y[1],Z=U.data,L=U.called,S=U.loading;(0,l.useEffect)((function(){if(L&&Z)try{var n=[].concat((0,i.Z)(e),(0,i.Z)(Z.publishers));r(n),b(n.length),v(50===Z.publishers.length)}catch(t){return}}),[Z,L]);var X=(0,l.useContext)(f.w).setIsLoading;return(0,l.useEffect)((function(){X(S)}),[S,X]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("main",{children:(0,t.jsx)(u.W2,{children:(0,t.jsxs)(u.$0,{children:[(0,t.jsx)("h1",{children:"\u30e1\u30c7\u30a3\u30a2\u4e00\u89a7"}),(0,t.jsxs)(u.EK,{children:[(0,t.jsx)(a.default,{href:"/publishers/new",children:(0,t.jsx)(u.zx,{children:"\u65b0\u898f\u767b\u9332"})}),(0,t.jsx)(a.default,{href:"/publishers/csv",children:(0,t.jsx)(u.zx,{children:"CSV\u53d6\u308a\u8fbc\u307f"})})]}),(0,t.jsxs)(u.iA,{className:"is-x-scrollable",children:[(0,t.jsx)(u.ss,{children:(0,t.jsxs)(u.SC,{children:[(0,t.jsx)(u.xD,{children:"Name"}),(0,t.jsx)(u.xD,{children:"URL"}),(0,t.jsx)(u.xD,{children:"\u30eb\u30fc\u30eb"}),(0,t.jsx)(u.xD,{children:"\u4e00\u89a7\u53d6\u5f97"}),(0,t.jsx)(u.xD,{children:"\u8a73\u7d30"})]})}),(0,t.jsx)(u.RM,{children:e.map((function(n){return(0,t.jsxs)(u.SC,{children:[(0,t.jsx)(u.C5,{children:n.name}),(0,t.jsx)(u.C5,{children:n.baseUrl}),(0,t.jsx)(u.C5,{children:(0,t.jsx)("small",{children:o.LQ[n.crawlingRuleId]})}),(0,t.jsxs)(u.C5,{children:[n.rssUrl&&(0,t.jsx)("small",{children:"RSS"}),n.articleListUrl&&(0,t.jsx)("small",{children:"HTML"})]}),(0,t.jsx)(u.C5,{children:(0,t.jsx)(a.default,{href:"/publishers/".concat(n.id),children:(0,t.jsx)(u.zx,{className:"is-small",children:"\u8a73\u7d30"})})})]},n.id)}))})]}),(0,t.jsx)(u.EK,{children:(0,t.jsx)(d.Z,{showButton:m,onClick:function(){S||C({variables:{offset:x,limit:50}})}})})]})})})})}},8739:function(n,e,r){"use strict";r.d(e,{LQ:function(){return i},ro:function(){return s},eC:function(){return l},ti:function(){return a}});var t=r(4121),i={1:"\u901a\u5e38",2:"\u8457\u8005\u5225"},s=Object.entries(i).map((function(n){var e=(0,t.Z)(n,2),r=e[0],i=e[1];return{value:Number(r),label:i}})),l=Object.entries({lxml:"HTML\u89e3\u6790",selenium:"\u30d6\u30e9\u30a6\u30b6\u5229\u7528"}).map((function(n){var e=(0,t.Z)(n,2);return{value:e[0],label:e[1]}})),a="www.youtube.com"},7076:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/publishers",function(){return r(8056)}])},9999:function(n,e,r){"use strict";r.d(e,{Z:function(){return s}});var t=r(5093);var i=r(355);function s(n){return function(n){if(Array.isArray(n))return(0,t.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(n){n.O(0,[774,888,179],(function(){return e=7076,n(n.s=e);var e}));var e=n.O();_N_E=e}]);