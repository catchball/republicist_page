(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{9827:function(e,n,t){"use strict";t.d(n,{l:function(){return s}});var r=t(513),s={topics:function(e){var n=e.texts,t=e.topicCount;return r.x.post("/analyses/topics",{texts:n,topic_count:t})},sentiments:function(e){var n=e.texts;return r.x.post("/analyses/sentiments",{texts:n})},bertSentiments:function(e){var n=e.texts;return r.x.post("/analyses/bert/sentiments",{texts:n})},morphologic:function(e){var n=e.text,t=e.language;return r.x.post("/analyses/morphologic",{text:n,language:t})}}},7769:function(e,n,t){"use strict";var r=t(5893);t(7294);n.Z=function(e){var n=e.name,t=e.items,s=e.state,c=e.onChange;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,t){var i=e.value,a=e.label;return(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",name:n,value:i,checked:i===s,onChange:function(){return c(i)}}),"\xa0",a]},t)}))})}},1014:function(e,n,t){"use strict";t.d(n,{dt:function(){return r},Tw:function(){return s},ZE:function(){return c},FJ:function(){return i}});var r=function(e){return e.sort((function(e,n){return e<n?1:-1}))},s=function(e){return Array.from(new Set(e))},c=function(e,n){return e.reduce((function(e,t){return e+Number(t[n])}),0)},i=function(e,n){return Object.entries(e.reduce((function(e,t){return e[t[n]]=e[t[n]]||[],e[t[n]].push(t),e}),{})).map((function(e){return{key:e[0],list:e[1]}}))}},6969:function(e,n,t){"use strict";t.r(n);var r=t(5893),s=t(6265),c=t(809),i=t.n(c),a=t(2447),u=t(7294),o=t(5887),l=t(7769),f=t(6146),h=t(1014),p=t(9827);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e=(0,u.useState)([]),n=e[0],t=e[1],c=["Base","Target"],d=(0,u.useState)({Base:"",Target:""}),j=d[0],g=d[1],v=(0,u.useState)({Base:[],Target:[]}),m=v[0],b=v[1],y=(0,u.useState)([]),O=y[0],w=y[1],C=(0,u.useState)([]),k=C[0],P=C[1],S=(0,u.useContext)(f.w),E=S.setIsLoading,N=S.setError,_=(0,u.useState)(null),T=_[0],D=_[1],Z=(0,u.useState)("ja"),A=Z[0],F=Z[1];(0,u.useEffect)((function(){D(null)}),[j]);var z=function(){var e=(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),P([]),e.prev=2,e.next=5,p.l.morphologic({text:n,language:A});case 5:if(t=e.sent,r=t.data){e.next=9;break}return e.abrupt("return",N({message:"No response"}));case 9:if(0!=(s=r.words).length&&s[0]instanceof Array){e.next=11;break}return e.abrupt("return",N({message:"Invalid response"}));case 11:w(r.words),P((0,h.FJ)(r.words.flat(),"surface").sort((function(e,n){return e.list.length<n.list.length?1:-1}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),e.t0 instanceof Error?N(e.t0):N({message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: ".concat(e.t0)});case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}var s}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)(i().mark((function e(n){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(x(x({},m),{},(0,s.Z)({},n,[]))),E(!0),e.next=5,p.l.morphologic({text:j[n],language:A});case 5:if(t=e.sent,r=t.data){e.next=9;break}return e.abrupt("return",N({message:"No response"}));case 9:b(x(x({},m),{},(0,s.Z)({},n,r.words))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Error?N(e.t0):N({message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: ".concat(e.t0)});case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(n){return e.apply(this,arguments)}}(),K=function(e){return e.reduce((function(e,n){return e+n.count}),0)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)(o.W2,{children:[(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h1",{children:"\u540d\u8a5e\u62bd\u51fa"}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(l.Z,{items:[{value:"ja",label:"\u65e5\u672c\u8a9e"},{value:"en",label:"\u82f1\u8a9e"}],name:"language",onChange:function(e){F(e)},state:A})})]}),(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h2",{children:"\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u4e00\u62ec"}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(o.Kx,{defaultValue:"",onPaste:function(e){var n,r=e.clipboardData.getData("text/html").match(/<table(?: .+?)?>.*?<\/table>/g);if(r){var s=r[0].match(/<tr(?: .+?)?>.*?<\/tr>/g);t(null!==(n=null===s||void 0===s?void 0:s.map((function(e){return e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"")})))&&void 0!==n?n:[])}}})})]}),(0,r.jsxs)(o.$0,{children:[(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:n.map((function(e,n){return(0,r.jsx)(o.SC,{children:(0,r.jsx)(o.C5,{style:{fontSize:".5rem"},children:e})},n)}))})}),O.length>0&&(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:O.map((function(e,n){return(0,r.jsx)(o.SC,{children:e.map((function(e,n){return(0,r.jsxs)(o.C5,{style:{fontSize:".5rem"},children:[e.surface,"(",e.count,"\u56de)"]},n)}))},n)}))})}),k.length>0&&(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:k.map((function(e,n){return(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.C5,{children:e.key}),(0,r.jsxs)(o.C5,{children:[e.list.length,"\u56de"]}),(0,r.jsx)(o.C5,{children:e.list[0].feature}),(0,r.jsx)(o.C5,{children:e.list.map((function(e){return"".concat(e.count,"\u56de")})).join(",")})]},n)}))})}),(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{className:"is-full",onClick:z,children:"\u62bd\u51fa\u3059\u308b"})})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h2",{children:"\u6bd4\u8f03"}),Object.values(m).every((function(e){return e.length>10}))&&(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{className:"is-full",onClick:function(){var e={Base:[],Target:[]};c.forEach((function(n){K(m[n]);var t,r=null!==(t=(0,h.dt)((0,h.Tw)(m[n].map((function(e){return e.count})))).find((function(e){K(m[n].filter((function(n){return n.count>e})))})))&&void 0!==t?t:1;e[n]=m[n].filter((function(e){return e.count>r}))}));var n=e.Target.filter((function(n){return!!e.Base.find((function(e){return e.surface==n.surface}))}));D(K(n)/K(e.Target))},children:"\u6bd4\u8f03\u3059\u308b"})}),T&&(0,r.jsxs)("div",{children:["\u30de\u30c3\u30c1\u5ea6:\xa0",(100*T).toFixed(2),"%"]})]}),(0,r.jsx)("div",{style:{display:"flex"},children:c.map((function(e){return(0,r.jsxs)(o.$0,{style:{flexGrow:1},children:[(0,r.jsx)("h2",{children:e}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(o.Kx,{onChange:function(n){return g(x(x({},j),{},(0,s.Z)({},e,n.target.value)))},rows:12,children:j[e]})}),(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{onClick:function(){return B(e)},children:"\u540d\u8a5e\u62bd\u51fa"})}),m[e].length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:"\u62bd\u51fa\u7d50\u679c"}),(0,r.jsxs)("p",{children:["\u540d\u8a5e\u6570",K(m[e])]}),(0,r.jsx)(o.iA,{children:(0,r.jsx)(o.RM,{children:m[e].map((function(e){return(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.C5,{children:e.surface}),(0,r.jsxs)(o.C5,{children:[e.count,"\u56de"]}),(0,r.jsx)(o.C5,{children:e.feature.split(",").map((function(e,n){return(0,r.jsxs)("small",{children:[e,"\xa0"]},n)}))})]},e.surface)}))})})]})]},e)}))})]})]})})})}},513:function(e,n,t){"use strict";t.d(n,{x:function(){return o}});var r=t(6265),s=t(9669),c=t.n(s),i=t(1745);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var o=c().create({baseURL:"".concat("https://republicist-api.reload.co.jp","/api/v1/"),responseType:"json",headers:{"Content-Type":"application/json"}});o.interceptors.request.use((function(e){return u(u({},e),{},{data:(0,i.toSnake)(e.data)})})),o.interceptors.response.use((function(e){return u(u({},e),{},{data:(0,i.toCamel)(e.data)})}),(function(e){return Promise.reject(e)}))},9647:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analyses/nouns",function(){return t(6969)}])}},function(e){e.O(0,[637,774,888,179],(function(){return n=9647,e(e.s=n);var n}));var n=e.O();_N_E=n}]);