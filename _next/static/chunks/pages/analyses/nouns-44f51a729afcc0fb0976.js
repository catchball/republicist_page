(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{9827:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(513),s={topics:function(e){var t=e.texts,n=e.topicCount;return r.x.post("/analyses/topics",{texts:t,topic_count:n})},sentiments:function(e){var t=e.texts;return r.x.post("/analyses/sentiments",{texts:t})},bertSentiments:function(e){var t=e.texts;return r.x.post("/analyses/bert/sentiments",{texts:t})},morphologic:function(e){var t=e.text,n=e.library,s=e.partOfSpeech;return r.x.post("/analyses/morphologic",{text:t,lib:n,part_of_speech:s})}}},7769:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.name,n=e.items,s=e.state,c=e.onChange;return(0,r.jsx)(r.Fragment,{children:n.map((function(e,n){var i=e.value,a=e.label;return(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",name:t,value:i,checked:i===s,onChange:function(){return c(i)}}),"\xa0",a]},n)}))})}},1014:function(e,t,n){"use strict";n.d(t,{dt:function(){return r},Tw:function(){return s},ZE:function(){return c},FJ:function(){return i}});var r=function(e){return e.sort((function(e,t){return e<t?1:-1}))},s=function(e){return Array.from(new Set(e))},c=function(e,t){return e.reduce((function(e,n){return e+Number(n[t])}),0)},i=function(e,t){return Object.entries(e.reduce((function(e,n){return e[n[t]]=e[n[t]]||[],e[n[t]].push(n),e}),{})).map((function(e){return{key:e[0],list:e[1]}}))}},6969:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(6265),c=n(809),i=n.n(c),a=n(2447),u=n(7294),o=n(5887),l=n(7769),f=n(6146),h=n(1014),p=n(9827);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(){var e=(0,u.useState)([]),t=e[0],n=e[1],c=["Base","Target"],d=(0,u.useState)({Base:"",Target:""}),j=d[0],b=d[1],v=(0,u.useState)({Base:[],Target:[]}),g=v[0],m=v[1],y=(0,u.useState)([]),O=y[0],w=y[1],C=(0,u.useState)([]),S=C[0],k=C[1],P=(0,u.useContext)(f.w),E=P.setIsLoading,N=P.setError,_=(0,u.useState)(null),T=_[0],D=_[1],Z=(0,u.useState)("sudachi"),F=Z[0],A=Z[1],K=(0,u.useState)(""),z=K[0],B=K[1];(0,u.useEffect)((function(){D(null)}),[j]);var M=function(){var e=(0,a.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),k([]),e.prev=2,e.next=5,p.l.morphologic({text:t,library:F,partOfSpeech:z.length>0?z.split(" "):void 0});case 5:if(n=e.sent,r=n.data){e.next=9;break}return e.abrupt("return",N({message:"No response"}));case 9:if(0!=(s=r.words).length&&s[0]instanceof Array){e.next=11;break}return e.abrupt("return",N({message:"Invalid response"}));case 11:w(r.words),k((0,h.FJ)(r.words.flat(),"surface").sort((function(e,t){return e.list.length<t.list.length?1:-1}))),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),e.t0 instanceof Error?N(e.t0):N({message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: ".concat(e.t0)});case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}var s}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(x(x({},g),{},(0,s.Z)({},t,[]))),E(!0),e.next=5,p.l.morphologic({text:j[t],library:F,partOfSpeech:z.length>0?z.split(" "):void 0});case 5:if(n=e.sent,r=n.data){e.next=9;break}return e.abrupt("return",N({message:"No response"}));case 9:m(x(x({},g),{},(0,s.Z)({},t,r.words))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Error?N(e.t0):N({message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: ".concat(e.t0)});case 15:return e.prev=15,E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){return e.reduce((function(e,t){return e+t.count}),0)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)(o.W2,{children:[(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h1",{children:"\u540d\u8a5e\u62bd\u51fa"}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(l.Z,{items:[{value:"sudachi",label:"Sudachi \u65e5\u672c\u8a9e"},{value:"mecab",label:"Mecab \u65e5\u672c\u8a9e"},{value:"nltk",label:"NLTK \u82f1\u8a9e"}],name:"language",onChange:function(e){A(e)},state:F})}),(0,r.jsxs)(o.gN,{children:[(0,r.jsx)("label",{htmlFor:"partOfSpeech",children:"\u54c1\u8a5e"}),(0,r.jsx)(o.II,{value:z,onChange:function(e){return B(e.target.value)},placeholder:"\u534a\u89d2\u30b9\u30da\u30fc\u30b9\u533a\u5207\u308a(\u672a\u5165\u529b\u3067\u540d\u8a5e)"})]})]}),(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h2",{children:"\u30b9\u30d7\u30ec\u30c3\u30c9\u30b7\u30fc\u30c8\u4e00\u62ec"}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(o.Kx,{defaultValue:"",onPaste:function(e){var t,r=e.clipboardData.getData("text/html").match(/<table(?: .+?)?>.*?<\/table>/g);if(r){var s=r[0].match(/<tr(?: .+?)?>.*?<\/tr>/g);n(null!==(t=null===s||void 0===s?void 0:s.map((function(e){return e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,"")})))&&void 0!==t?t:[])}}})})]}),(0,r.jsxs)(o.$0,{children:[(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:t.map((function(e,t){return(0,r.jsx)(o.SC,{children:(0,r.jsx)(o.C5,{style:{fontSize:".5rem"},children:e})},t)}))})}),O.length>0&&(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:O.map((function(e,t){return(0,r.jsx)(o.SC,{children:e.map((function(e,t){return(0,r.jsxs)(o.C5,{style:{fontSize:".5rem"},children:[e.surface,"(",e.count,"\u56de)"]},t)}))},t)}))})}),S.length>0&&(0,r.jsx)(o.iA,{className:"is-x-scrollable",children:(0,r.jsx)(o.RM,{children:S.map((function(e,t){return(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.C5,{children:e.key}),(0,r.jsxs)(o.C5,{children:[e.list.length,"\u56de"]}),(0,r.jsx)(o.C5,{children:e.list[0].feature}),(0,r.jsx)(o.C5,{children:e.list.map((function(e){return"".concat(e.count,"\u56de")})).join(",")})]},t)}))})}),(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{className:"is-full",onClick:M,children:"\u62bd\u51fa\u3059\u308b"})})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(o.$0,{children:[(0,r.jsx)("h2",{children:"\u6bd4\u8f03"}),Object.values(g).every((function(e){return e.length>10}))&&(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{className:"is-full",onClick:function(){var e={Base:[],Target:[]};c.forEach((function(t){$(g[t]);var n,r=null!==(n=(0,h.dt)((0,h.Tw)(g[t].map((function(e){return e.count})))).find((function(e){$(g[t].filter((function(t){return t.count>e})))})))&&void 0!==n?n:1;e[t]=g[t].filter((function(e){return e.count>r}))}));var t=e.Target.filter((function(t){return!!e.Base.find((function(e){return e.surface==t.surface}))}));D($(t)/$(e.Target))},children:"\u6bd4\u8f03\u3059\u308b"})}),T&&(0,r.jsxs)("div",{children:["\u30de\u30c3\u30c1\u5ea6:\xa0",(100*T).toFixed(2),"%"]})]}),(0,r.jsx)("div",{style:{display:"flex"},children:c.map((function(e){return(0,r.jsxs)(o.$0,{style:{flexGrow:1},children:[(0,r.jsx)("h2",{children:e}),(0,r.jsx)(o.gN,{children:(0,r.jsx)(o.Kx,{onChange:function(t){return b(x(x({},j),{},(0,s.Z)({},e,t.target.value)))},rows:12,children:j[e]})}),(0,r.jsx)(o.EK,{children:(0,r.jsx)(o.zx,{onClick:function(){return R(e)},children:"\u540d\u8a5e\u62bd\u51fa"})}),g[e].length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:"\u62bd\u51fa\u7d50\u679c"}),(0,r.jsxs)("p",{children:["\u540d\u8a5e\u6570",$(g[e])]}),(0,r.jsx)(o.iA,{children:(0,r.jsx)(o.RM,{children:g[e].map((function(e){return(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.C5,{children:e.surface}),(0,r.jsxs)(o.C5,{children:[e.count,"\u56de"]}),(0,r.jsx)(o.C5,{children:e.feature.split(",").map((function(e,t){return(0,r.jsxs)("small",{children:[e,"\xa0"]},t)}))})]},e.surface)}))})})]})]},e)}))})]})]})})})}},513:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(6265),s=n(9669),c=n.n(s),i=n(1745);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=c().create({baseURL:"".concat("https://republicist-api.reload.co.jp","/api/v1/"),responseType:"json",headers:{"Content-Type":"application/json"}});o.interceptors.request.use((function(e){return u(u({},e),{},{data:(0,i.toSnake)(e.data)})})),o.interceptors.response.use((function(e){return u(u({},e),{},{data:(0,i.toCamel)(e.data)})}),(function(e){return Promise.reject(e)}))},9647:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analyses/nouns",function(){return n(6969)}])}},function(e){e.O(0,[637,774,888,179],(function(){return t=9647,e(e.s=t);var t}));var t=e.O();_N_E=t}]);