(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{9827:function(t,e,r){"use strict";r.d(e,{l:function(){return i}});var n=r(513),i={topics:function(t){var e=t.texts,r=t.topicCount;return n.x.post("/analyses/topics",{texts:e,topic_count:r})},sentiments:function(t){var e=t.texts;return n.x.post("/analyses/sentiments",{texts:e})},bertSentiments:function(t){var e=t.texts;return n.x.post("/analyses/bert/sentiments",{texts:e})},morphologic:function(t){var e=t.text,r=t.language;return n.x.post("/analyses/morphologic",{text:e,language:r})}}},8691:function(t,e,r){"use strict";r.d(e,{W:function(){return p}});var n=r(513),i={index:function(t){var e=t.name,r=t.tagName,i=t.annotationId,c=t.classificationOptionId,s=t.offset,a=t.limit;return n.x.get("/authors",{params:{name:e,tag_name:r,annotation_id:i,classification_option_id:c,offset:s,limit:a}})},show:function(t){var e=t.id;return n.x.get("/authors/".concat(e),{})},addTag:function(t){var e=t.id,r=t.name;return n.x.post("/authors/".concat(e,"/tag"),{name:r})}},c={index:function(t){var e=t.limit,r=t.offset,i=t.name;return n.x.get("/tags",{params:{limit:e,offset:r,name:i}})}},s={index:function(t){var e=t.limit,r=t.offset;return n.x.get("/annotations",{params:{limit:e,offset:r}})},show:function(t){var e=t.id;return n.x.get("/annotations/".concat(e),{})},update:function(t){var e=t.id,r=t.name,i=t.description,c=t.hint;return n.x.patch("/annotations/".concat(e),{name:r,description:i,hint:c})},delete:function(t){var e=t.id;return n.x.delete("/annotations/".concat(e),{})},check:function(t){var e=t.id,r=t.withDescription;return n.x.get("/annotations/".concat(e,"/check"),{params:{with_description:r}})},count:function(t){var e=t.id;return n.x.get("/annotations/".concat(e,"/count"),{})}},a={index:function(){return n.x.get("/classifications")}},o=r(9827),u=r(1680),l={index:function(t){var e=t.offset,r=t.limit,i=t.publisherId;return n.x.get("/articles",{params:{offset:e,limit:r,publisher_id:i}})},import:function(t){var e=t.url,r=t.publisherId,i=t.baseUrl,c=t.publishDate,s=t.isCommit;return n.x.post("/articles/import",{url:e,publisher_id:r,base_url:i,publish_date:c,is_commit:s})}},p={annotation:s,author:i,classifications:a,tag:c,analysis:o.l,publishers:u.X,articles:l}},1680:function(t,e,r){"use strict";r.d(e,{X:function(){return s}});var n=r(6265),i=r(513);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var s={create:function(t){return i.x.post("/publishers",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t))},fetchArticles:function(t){var e=t.id,r=t.isCommit;return i.x.get("/publishers/".concat(e,"/articles/new"),{params:{is_commit:r}})}}},9396:function(t,e,r){"use strict";r.r(e);var n=r(5893),i=r(809),c=r.n(i),s=r(9999),a=r(6265),o=r(2447),u=r(7294),l=r(5887),p=r(8691),h=r(9249),d=r(9112),x=r(6146);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.default=function(){var t=(0,u.useContext)(x.w).setIsLoading,e=(0,u.useState)([]),r=e[0],i=e[1],a=function(){var t=(0,o.Z)(c().mark((function t(){var e,n,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.filter((function(t){return!t.publisher&&!t.error})).slice(-1)[0]){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,p.W.publishers.create(j({},e));case 6:n=t.sent,o=n.data.publisher,e.publisher=o,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),e.error="".concat(t.t0);case 14:if(i([e].concat((0,s.Z)(r.filter((function(t){return t.index!=e.index}))))),!(r.filter((function(t){return!t.publisher&&!t.error})).length>0)){t.next=18;break}return t.next=18,a();case 18:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,e.next=4,a();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,t(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var t=(0,o.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.target.files)&&0!==r.length){t.next=4;break}return h.Am.error("CSV\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),t.abrupt("return");case 4:return t.prev=4,t.t0=s.Z,t.t1=d.Q,t.next=9,r[0].text();case 9:t.t2=t.sent,t.t3={from:2},t.t4=(0,t.t1)(t.t2,t.t3),(n=(0,t.t0)(t.t4)).length>1e3&&h.Am.warn("\u30d5\u30a1\u30a4\u30eb\u304c\u5927\u304d\u3059\u304e\u307e\u3059\u3002\u306f\u3058\u3081\u306e1000\u884c\u306e\u307f\u5229\u7528\u3057\u307e\u3059"),i(n.filter((function(t){return t[1]})).slice(0,1e3).map((function(t,e){return{index:e,name:t[1],baseUrl:t[2],articleUrlPattern:t[3]||void 0,rssUrl:t[4]||void 0,articleListUrl:t[5]||void 0,articleLinkXpath:t[6]||void 0,crawlingRuleId:1,scraping:{titleXpath:t[7]||void 0,descriptionXpath:t[8]||void 0,contentXpath:t[9]||void 0,pagerXpath:t[10]||void 0,authorXpath:t[11]||void 0,authorPattern:t[12]||void 0,genreXpath:t[13]||void 0,genrePattern:t[14]||void 0,tagXpath:t[15]||void 0,tagPattern:t[16]||void 0,publishDateXpath:t[17]||void 0,publishDatePattern:t[18]||void 0,updateDateXpath:t[19]||void 0,updateDatePattern:t[20]||void 0,processor:"selenium"===t[21]?"selenium":"lxml",testUrl:t[22]||void 0}}}))),t.next=21;break;case 17:return t.prev=17,t.t5=t.catch(4),h.Am.error("\u30d5\u30a1\u30a4\u30eb\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f: ".concat(t.t5)),t.abrupt("return");case 21:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("main",{children:(0,n.jsxs)(l.W2,{children:[(0,n.jsx)(l.$0,{children:(0,n.jsx)("h1",{children:"\u30e1\u30c7\u30a3\u30a2CSV\u53d6\u308a\u8fbc\u307f"})}),(0,n.jsx)("div",{children:(0,n.jsxs)(l.$0,{children:[(0,n.jsx)("h2",{children:"\u5165\u529b"}),(0,n.jsx)(l.gN,{children:(0,n.jsx)(l.II,{type:"file",accept:".csv",onChange:b})}),(0,n.jsx)(l.EK,{children:(0,n.jsx)(l.zx,{onClick:f,children:"\u53d6\u308a\u8fbc\u307f"})}),(0,n.jsx)("h3",{children:"\u4e00\u89a7"}),(0,n.jsxs)(l.iA,{className:"is-x-scrollable",children:[(0,n.jsx)(l.ss,{children:(0,n.jsxs)(l.SC,{children:[(0,n.jsx)(l.xD,{children:"\u30b9\u30c6\u30fc\u30bf\u30b9"}),(0,n.jsx)(l.xD,{children:"\u540d\u524d"}),(0,n.jsx)(l.xD,{children:"\u30c9\u30e1\u30a4\u30f3URL"}),(0,n.jsx)(l.xD,{children:"\u8a18\u4e8bURL\u30d1\u30bf\u30fc\u30f3"}),(0,n.jsx)(l.xD,{children:"RSS URL"}),(0,n.jsx)(l.xD,{children:"\u8a18\u4e8b\u4e00\u89a7 URL"}),(0,n.jsx)(l.xD,{children:"\u8a18\u4e8b\u4e00\u89a7 Xpath"}),(0,n.jsx)(l.xD,{children:"\u30bf\u30a4\u30c8\u30eb Xpath"}),(0,n.jsx)(l.xD,{children:"\u30ea\u30fc\u30c9\u6587 Xpath"}),(0,n.jsx)(l.xD,{children:"\u672c\u6587 Xpath"}),(0,n.jsx)(l.xD,{children:"\u672c\u6587 \u30da\u30fc\u30b8\u30e3\u30fcXpath"}),(0,n.jsx)(l.xD,{children:"\u8457\u8005 Xpath"}),(0,n.jsx)(l.xD,{children:"\u8457\u8005 \u6b63\u898f\u8868\u73fe"}),(0,n.jsx)(l.xD,{children:"\u30ab\u30c6\u30b4\u30ea\u30fc Xpath"}),(0,n.jsx)(l.xD,{children:"\u30ab\u30c6\u30b4\u30ea\u30fc \u6b63\u898f\u8868\u73fe"}),(0,n.jsx)(l.xD,{children:"\u30bf\u30b0 Xpath"}),(0,n.jsx)(l.xD,{children:"\u30bf\u30b0 \u6b63\u898f\u8868\u73fe"}),(0,n.jsx)(l.xD,{children:"\u516c\u958b\u65e5\u6642 Xpath"}),(0,n.jsx)(l.xD,{children:"\u516c\u958b\u65e5\u6642 \u6b63\u898f\u8868\u73fe"}),(0,n.jsx)(l.xD,{children:"\u66f4\u65b0\u65e5\u6642 Xpath"}),(0,n.jsx)(l.xD,{children:"\u66f4\u65b0\u65e5\u6642 \u6b63\u898f\u8868\u73fe"}),(0,n.jsx)(l.xD,{children:"\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u65b9\u6cd5"}),(0,n.jsx)(l.xD,{children:"\u691c\u8a3cURL"})]})}),(0,n.jsx)(l.RM,{children:r.map((function(t,e){return(0,n.jsxs)(l.SC,{children:[(0,n.jsx)(l.C5,{children:t.publisher?"\u53d6\u308a\u8fbc\u307f\u6210\u529f":t.error}),(0,n.jsx)(l.C5,{children:t.name}),(0,n.jsx)(l.C5,{children:t.baseUrl}),(0,n.jsx)(l.C5,{children:t.articleUrlPattern}),(0,n.jsx)(l.C5,{children:t.rssUrl}),(0,n.jsx)(l.C5,{children:t.articleListUrl}),(0,n.jsx)(l.C5,{children:t.articleLinkXpath}),(0,n.jsx)(l.C5,{children:t.scraping.titleXpath}),(0,n.jsx)(l.C5,{children:t.scraping.descriptionXpath}),(0,n.jsx)(l.C5,{children:t.scraping.contentXpath}),(0,n.jsx)(l.C5,{children:t.scraping.pagerXpath}),(0,n.jsx)(l.C5,{children:t.scraping.authorXpath}),(0,n.jsx)(l.C5,{children:t.scraping.authorPattern}),(0,n.jsx)(l.C5,{children:t.scraping.genreXpath}),(0,n.jsx)(l.C5,{children:t.scraping.genrePattern}),(0,n.jsx)(l.C5,{children:t.scraping.tagXpath}),(0,n.jsx)(l.C5,{children:t.scraping.tagPattern}),(0,n.jsx)(l.C5,{children:t.scraping.publishDateXpath}),(0,n.jsx)(l.C5,{children:t.scraping.publishDatePattern}),(0,n.jsx)(l.C5,{children:t.scraping.updateDateXpath}),(0,n.jsx)(l.C5,{children:t.scraping.updateDatePattern}),(0,n.jsx)(l.C5,{children:t.scraping.processor}),(0,n.jsx)(l.C5,{children:t.scraping.testUrl})]},e)}))})]})]})})]})})})}},513:function(t,e,r){"use strict";r.d(e,{x:function(){return u}});var n=r(6265),i=r(9669),c=r.n(i),s=r(1745);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=c().create({baseURL:"".concat("https://republicist-api.reload.co.jp","/api/v1/"),responseType:"json",headers:{"Content-Type":"application/json"}});u.interceptors.request.use((function(t){return o(o({},t),{},{data:(0,s.toSnake)(t.data)})})),u.interceptors.response.use((function(t){return o(o({},t),{},{data:(0,s.toCamel)(t.data)})}),(function(t){return Promise.reject(t)}))},1381:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/publishers/csv",function(){return r(9396)}])}},function(t){t.O(0,[637,985,774,888,179],(function(){return e=1381,t(t.s=e);var e}));var e=t.O();_N_E=e}]);