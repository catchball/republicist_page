(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{3428:function(n,t,e){"use strict";e.d(t,{w:function(){return s},Y:function(){return c}});var r=e(7261),i=e(3121);function a(){var n=(0,r.Z)(["\n  query articles($publisherId: Int, $authorId: Int, $limit: Int, $offset: Int) {\n    articles(\n      publisherId: $publisherId\n      authorId: $authorId\n      limit: $limit\n      offset: $offset\n    ) {\n      id\n      url\n      title\n      publishDate\n      updateDate\n      viewCount\n      authorPublisher {\n        idOnPublisher\n        author {\n          id\n          name\n        }\n      }\n      publisher {\n        id\n        name\n      }\n    }\n  }\n"]);return a=function(){return n},n}function u(){var n=(0,r.Z)(["\n  query article($id: Int!) {\n    article(id: $id) {\n      id\n      url\n      title\n      content\n      description\n      publishDate\n      updateDate\n      genre\n      tag\n      viewCount\n      payload\n      authorPublisher {\n        lastScrapedAt\n        lastArticleDate\n        baseUrl\n        idOnPublisher\n        author {\n          id\n          name\n          description\n        }\n      }\n      publisher {\n        id\n        name\n        description\n      }\n      scraping {\n        id\n      }\n    }\n  }\n"]);return u=function(){return n},n}var s=(0,i.ZP)(u()),c=(0,i.ZP)(a())},867:function(n,t,e){"use strict";var r=e(5893),i=(e(7294),e(5887));t.Z=function(n){var t=n.showButton,e=n.onClick;return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsx)(i.zx,{onClick:e,children:"\u7d9a\u304d\u3092\u8aad\u307f\u8fbc\u3080"})})}},4973:function(n,t,e){"use strict";e.r(t);var r=e(5893),i=e(9999),a=e(4121),u=e(7294),s=e(1664),c=e(5887),l=e(6829),o=e(3428),d=e(6146),h=e(867);t.default=function(){var n=(0,u.useState)([]),t=n[0],e=n[1],f=(0,u.useState)(0),b=f[0],v=f[1],p=(0,u.useState)(!0),m=p[0],x=p[1],j=(0,l.useQuery)(o.Y,{variables:{limit:20}}).data;(0,u.useEffect)((function(){j&&j.articles&&(e(j.articles),v(j.articles.length),x(20===j.articles.length))}),[j]);var y=(0,l.useLazyQuery)(o.Y),w=(0,a.Z)(y,2),I=w[0],C=w[1],Z=C.data,_=C.called,g=C.loading;(0,u.useEffect)((function(){if(_&&Z)try{var n=[].concat((0,i.Z)(t),(0,i.Z)(Z.articles));e(n),v(n.length),x(20===Z.articles.length)}catch(r){return}}),[_,Z]);var $=(0,u.useContext)(d.w).setIsLoading;return(0,u.useEffect)((function(){$(g)}),[g,$]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsx)(c.W2,{children:(0,r.jsxs)(c.$0,{children:[(0,r.jsx)("h1",{children:"\u8a18\u4e8b\u4e00\u89a7"}),(0,r.jsx)(c.iA,{children:(0,r.jsx)(c.RM,{children:t.map((function(n){var t,e;return(0,r.jsxs)(c.SC,{children:[(0,r.jsx)(c.C5,{children:n.id}),(0,r.jsx)(c.C5,{children:n.title}),(0,r.jsx)(c.C5,{children:null===(t=n.authorPublisher)||void 0===t||null===(e=t.author)||void 0===e?void 0:e.name}),(0,r.jsx)(c.C5,{children:(0,r.jsx)(s.default,{href:"/articles/".concat(n.id),children:(0,r.jsx)(c.zx,{className:"is-small",children:"\u8a73\u7d30"})})})]},n.id)}))})}),(0,r.jsx)(c.EK,{children:(0,r.jsx)(h.Z,{showButton:m,onClick:function(){g||I({variables:{offset:b,limit:20}})}})})]})})})})}},4507:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return e(4973)}])},9999:function(n,t,e){"use strict";e.d(t,{Z:function(){return a}});var r=e(5093);var i=e(355);function a(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(n){n.O(0,[774,888,179],(function(){return t=4507,n(n.s=t);var t}));var t=n.O();_N_E=t}]);